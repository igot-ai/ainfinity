name: {{ job_name }}

resources:
  accelerators: {{ accelerator_type }}
  cloud: gcp
  disk_size: 100

file_mounts:
  /train : ./train

setup: |
  echo "Setting up environment..."
  pip install --upgrade pip
  pip install -r requirements.txt

run: |
  echo "Starting training for {{ model_name }}..."

  # Download dataset from URL if provided, or use local path
  # In a real scenario, we might download from GCS/S3 here

  python train.py \
    --model_id "{{ model_id }}" \
    --model_name "{{ base_model }}" \
    --dataset_path "{{ dataset_path }}" \
    --output_dir "{{ output_dir }}" \
    --project_name "{{ project_name }}" \
    --run_name "{{ run_name }}"
